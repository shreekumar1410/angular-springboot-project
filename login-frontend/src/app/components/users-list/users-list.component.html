<div class="table-container">
  <div class="container py-5">
    <div class="page-header mb-4">
      <h2 class="page-title">
        <i class="bi bi-people me-2"></i>Users List
      </h2>
    </div>
    <div class="table-card">
      <div class="table-responsive">
        <table class="table-custom" *ngIf="users.length > 0">
          <thead>
            <tr>
              <th *ngIf="isAdmin"><i class="bi bi-hash me-1"></i>ID</th>
              <th *ngIf="!isAdmin"><i class="bi bi-list-ol me-1"></i>S.No</th>
              <th><i class="bi bi-person me-1"></i>Name</th>
              <th><i class="bi bi-envelope me-1"></i>Email</th>
              <th><i class="bi bi-telephone me-1"></i>Phone</th>
              <th *ngIf="isAdmin"><i class="bi bi-geo-alt me-1"></i>Address</th>
              <th *ngIf="isAdmin"><i class="bi bi-calendar me-1"></i>DOB</th>
              <th *ngIf="isAdmin"><i class="bi bi-translate me-1"></i>Languages</th>
              <th *ngIf="isAdmin"><i class="bi bi-gear me-1"></i>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users; let i = index">
              <td *ngIf="isAdmin">{{ user.id }}</td>
              <td *ngIf="!isAdmin">{{ i + 1 }}</td>
              <td><strong>{{ user.name }}</strong></td>
              <td>{{ user.email }}</td>
              <td>{{ user.phone || 'N/A' }}</td>
              <td *ngIf="isAdmin">{{ user.address || 'N/A' }}</td>
              <td *ngIf="isAdmin">{{ user.dob || 'N/A' }}</td>
              <td *ngIf="isAdmin">{{ user.languages || 'N/A' }}</td>
              <td *ngIf="isAdmin">
                <button 
                  class="btn-action btn-delete" 
                  [disabled]="user.email === loggedInEmail" 
                  (click)="deleteUser(user.id)"
                  [title]="user.email === loggedInEmail ? 'Cannot delete your own profile' : 'Delete user'">
                  <i class="bi bi-trash me-1"></i>Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div *ngIf="users.length === 0" class="empty-state">
          <i class="bi bi-inbox"></i>
          <p>No users found</p>
        </div>
      </div>
    </div>
  </div>
</div>